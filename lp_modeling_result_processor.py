#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Fri Apr  5 15:14:13 2019

@author: rahman
"""

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import matplotlib.patches as mpatches

pd.set_option('display.expand_frame_repr', False)

def find_max_mode(df):
    print(df)
    
    g = df.loc[1]["g"]
    traffic_param = df.loc[1]["traffic_param"]
    
    #find the max value fo the column "throughput"
    maxval = df["throughput"].max()
    maxidx = df["throughput"].idxmax() #gets the first idx where the maxvalue found
    
    maxrow = df.loc[maxidx] 
    
    df_max = df[df["throughput"] == maxval]
    max_val_rowcount = df_max.shape[0]
    
    print("g {}, traffic_param {}, max val: {}, rows with that value: {}".format(g, traffic_param, maxval, max_val_rowcount))
    
    pass

def read_csv_file(filename = None):
    if filename is None:
        filename = "/home/rahman/Dropbox/0_Research/UGAL_restricted_results/07_LP_2019_04_05__with_pathlen_constraints/A8_G_5_9_17_25_33__df_wc__model3_pathlen_constraint_added__all_modes_2019_4_5_2_51_0.res.csv"
    
    df = pd.read_csv(filename)
    
    print("data read. shape: ", df.shape)
    print("columns: ", df.columns)
        #['a', 'g', 'traffic', 'traffic_param', 'model_no', 'mode', 'mode_param','throughput']
#    print("first rows:")
#    print(df.iloc[:50])

    df2 = df[:22]
    find_max_mode(df2)



if __name__ == "__main__":
    read_csv_file()
    
  

